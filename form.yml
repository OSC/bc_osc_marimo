---
cluster:
  - "ascend"
  - "pitzer"
  - "cardinal"
form:
  - auto_accounts
  - bc_num_hours
  - node_type
  - gpus
  - cuda_version
  - num_cores
  - marimo_version
  - working_dir
  - venv
  - sandbox
attributes:
  num_cores:
    widget: "number_field"
    label: "Number of cores"
    value: 1
    help: |
      Number of CPU cores. (4 GB per core unless requesting whole
      node). Minimum and maximum values will depend on cluster and node type.
    min: 1
    max: 28
    step: 1
  cluster:
    widget: "select"
    options:
      - [
          "pitzer", "pitzer",
          data-max-cores: 48
        ]
      - [
          "cardinal", "cardinal",
          data-max-cores: 96
        ]
      - [
          "ascend", "ascend",
          data-max-cores: 118
        ]
  marimo_version:
    widget: 'select'
    options:
      - [
          '0.14.17'
        ]
  working_dir:
    widget: "path_selector"
    label: "Working Directory or Notebook"
    data-target-file-type: both  # Valid values are: files, dirs, or both
    readonly: false
    help: "Select your notebook or project directory; defaults to $HOME"
  venv:
    widget: "path_selector"
    label: "Virtual Environment"
    data-target-file-type: both
    readonly: false
    show_hidden: false
    help: "If specified, the selected virtual environment will be used instead of the system installation. If marimo is not already installed in the environment, it will be installed at startup. Specify the path to the virtual environment or to the /bin/activate script."
  sandbox:
    widget: "check_box"
    label: "Sandbox environment"
    value: false
    help: "If a notebook is specified, it will be launched in sandbox mode. This has no effect when launching a working directory."
    options:
      - [
        ]
  gpus:
    widget: number_field
    min: 0
    max: 4
  node_type:
    widget: select
    label: "Node type"
    help: |
      Chosing "any" as the node type will decrease
      your wait time.<br>
      - **Standard Compute** <br>
        These are standard HPC machines.<br>
      - **GPU Enabled** <br>
        These are HPC machines with GPUs.
        have 2 GPUs with 16 GB of RAM; and Pitzer's 48 core machines have 2 GPUs with 32 GB of RAM.
        Dense GPU types have 4 GPUs with 16 GB of RAM.<br>
      - **Large Memory** <br>
        These are HPC machines with very large amounts of memory.
    options:
      - [
          "any",     "any",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-min-num-cores-for-cluster-ascend: 1,
          data-max-num-cores-for-cluster-ascend: 118,
          data-min-num-cores-for-cluster-cardinal: 1,
          data-max-num-cores-for-cluster-cardinal: 96,
        ]
      - [
          "40 core",     "any-40core",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 40,
          data-option-for-cluster-kubernetes: false,
          data-option-for-cluster-kubernetes-test: false,
          data-option-for-cluster-kubernetes-dev: false,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "48 core",     "any-48core",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "any gpu",     "gpu",
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-min-num-cores-for-cluster-ascend: 1,
          data-max-num-cores-for-cluster-ascend: 118,
          data-min-num-cores-for-cluster-cardinal: 1,
          data-max-num-cores-for-cluster-cardinal: 96,
        ]
      - [
          "40 core gpu",     "gpu-40core",
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 40,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "48 core gpu",     "gpu-48core",
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "largemem", "largemem",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 24,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "hugemem", "hugemem",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 20,
          data-max-num-cores-for-cluster-pitzer: 80,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "debug",   "debug",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-min-num-cores-for-cluster-pitzer: 1,
          data-max-num-cores-for-cluster-pitzer: 48,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "pitzer",   "pitzer",
          data-hide-cuda-version: true,
          data-set-cuda-version: '',
          data-hide-gpus: true,
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "pitzer gpu",   "pitzer-gpu",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "80 GB gpu",   "quad-gpu",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-cardinal: false,
          data-min-num-cores-for-cluster-ascend: 1,
          data-max-num-cores-for-cluster-ascend: 118,
        ]
  cuda_version:
    widget: "select"
    label: "CUDA Version"
    help: |
      CUDA is Nvidia's GPU-specific parallel computing framework. A GPU node
      is required to make use of this functionality.  **Load from custom kernel**
      means you have loaded the appropriate module in your own user defined kernel.
    options:
      - [ 
          "cuda/8.0.44",    "cuda/8.0.44",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/8.0.61",    "cuda/8.0.61",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/9.0.176",   "cuda/9.0.176",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/9.1.85",    "cuda/9.1.85",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/9.2.88",    "cuda/9.2.88",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/10.0.130",  "cuda/10.0.130",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [ 
          "cuda/10.1.168",  "cuda/10.1.168",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/10.2.89",   "cuda/10.2.89",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.0.3",   "cuda/11.0.3",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.1.1",   "cuda/11.1.1",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.2.2",   "cuda/11.2.2",
          data-option-for-cluster-ascend: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.6.1",   "cuda/11.6.1",
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.6.2",   "cuda/11.6.2",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.7.1",   "cuda/11.7.1",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/11.8.0",   "cuda/11.8.0",
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/12.0.0",   "cuda/12.0.0",
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/12.3.0",   "cuda/12.3.0",
          data-option-for-cluster-cardinal: false,
        ]
      - [
          "cuda/12.3.2",   "cuda/12.3.2",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
        ]
      - [
          "cuda/12.4.1",   "cuda/12.4.1",
          data-option-for-cluster-pitzer: false,
          data-option-for-cluster-ascend: false,
        ]
